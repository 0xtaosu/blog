---
title: "多链时代下的DApp碎片化问题"
date: 2021-06-05T00:31:03+08:00
draft: false
---

![Multichain](/img/Multi-chain时代下的DApp碎片化/Multichain.png)

过去的一年以太坊生态非常繁荣，从DeFi，到NFT，再到Metaverser，各种令人激动的创新层出不穷。但是，也由于以太坊的性能上存在瓶颈，交易手续费采用拍卖的方式，一旦以太坊网络越拥挤，手续费也高昂。因此，不同的dapp会在去中心、安全和性能上进行权衡，会选择选择合适的layer2或公链进行部署。DEX和借贷类DApp(如uniswap)对性能要求比较低、资金量大，所以被部署到主网或rollups，NFT、游戏(如Dark Forest)希望降低用户开销、交易额小，所以被部署到侧链或兼容 EVM 的公链。以现实世界为例子，银行和投资公司会聚集在市区，游乐园会被放在郊区。

随着不同layer2或公链的生态也逐渐繁荣，DApp和DApp的资产也会被部署到不同的layer2或公链，这也导致了DApp生态的碎片化，也破坏了DApp的可组合性。

随着不同layer2或公链的生态也逐渐繁荣，DApp和DApp的资产也会被部署到不同的layer2或公链，这也导致了DApp生态的碎片化，也破坏了DApp的可组合性。

由于不同的layer2或公链是相互独立的，导致同一个DApp的状态不一样，同时也导致了DApp的资产的状态不一样，举个例子，DApp的资产流动性被切割成不同layer2或公链、相对隔离的流动性池。

为了解决流动性碎片化的问题，项目方或社区会建造**跨链桥**，当用户想要连续使用两个居于不同侧链的应用时，需要先将资金从侧链转移到主链，再转至另一侧链，并支付两笔 Layer1 转账的 Gas fee、等待两次跨链交易确认。

除了跨链桥，现在还有**跨链流动性池解决方案**。流动性提供者在一个layer2或公上收取用户资金后在另一个layer2或公将相应金额直接转入指定地址，并定期在链间发起转起大额转账以均衡两边的余额。上述跨链交易和配套的消息中继服务可以被抽象成一个标准化和第三方协议，并部署到不同layer2或公链。

Connext 提出了标准的跨链状态通道协议，可以被部署到任何 EVM-Compatible 的区块链上。状态通道运营者者与用户共同设立多签地址后，已签名但并未广播的交易可以作为支票在 P2P 网络中被频繁传输。用户可以用最新的支票在多签地址所在的网络中发起链上交易更改链上余额来兑现支票。Connext团队最近还提出一个[Virtual AMM](https://medium.com/connext/solving-the-liquidity-problem-88bde201501#:~:text=have%20to%20solve.-,Virtual%20AMMs,-The%20above%20problem)的解决方案，通过状态通道建立跨链流动性，像uniswap的AMM一样，做市商可以添加/删除流动性和获得交易手续费，交易者可以跨链交换代币。

![Connext](/img/Multi-chain时代下的DApp碎片化/Connext.png)

另外，Axelar则提供了兼容任何公链的跨链交易和配套的消息中继服务。开发者可以使用 Axelar 的跨链通信协议来锁定、解锁和转移不同公链的DApp资产，以及与任何其他链上的DApp进行通信。

除了流动性碎片化的问题，DApp还面临着正统性碎片化的问题。正统性是一种文化概念，是由[vitalik](https://vitalik.ca/general/2021/03/23/legitimacy.html)提出，由于跨链桥在一个layer2或公链上锁定DApp的资产的同时，也会再另一个layer2或公链上铸造新的DApp的资产，不同版本的跨链桥将会创建不同版本的DApp资产，从而导致正统性破碎。以BTC为例子，就有renBTC wBTC等不同的版本的BTC。

为了解决决正统性碎片化的问题，在多链时代，DApp官方需要考虑多链路线图，一般有两种方案，一是通过建立官方的跨链桥来铸造资产，并占据大部分的跨链流动性，进而实现正统性；二是在layer2或公链上部署DApp并铸造资产，再通过建立跨链流动性池来打通多链资产**。**

毫无疑问，碎片化问题对DApp是一个挑战，但是，解决这个问题会给DApp带来极大的收益，它可以充分利用不同的layer2或公链的性能或资源的优势，从而提高用户友好度和吸引更多人来玩这个游戏。